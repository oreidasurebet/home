document.getElementById('btnCalcular').addEventListener('click', calcular);function calcular(){const banca=parseFloat(document.getElementById('banca').value);const casaOdd=parseFloat(document.getElementById('casaOdd').value);const empateOdd=parseFloat(document.getElementById('empateOdd').value);const visitanteOdd=parseFloat(document.getElementById('visitanteOdd').value);const odds=[];if(!isNaN(casaOdd)&&casaOdd>0)odds.push({nome:'Casa',valor:casaOdd});if(!isNaN(empateOdd)&&empateOdd>0)odds.push({nome:'Empate',valor:empateOdd});if(!isNaN(visitanteOdd)&&visitanteOdd>0)odds.push({nome:'Visitante',valor:visitanteOdd});if(isNaN(banca)||banca<=0||odds.length<2){alert("Informe a banca e pelo menos duas odds válidas maiores que zero.");return;}const somaInversos=odds.reduce((acc,odd)=>acc+(1/odd.valor),0);const lucroSurebetPercent=(1-somaInversos)*100;const lucroSurebetValor=banca*lucroSurebetPercent/100;let resultadoSurebet='';for(let odd of odds){const aposta=banca/(odd.valor*somaInversos);resultadoSurebet+=`${odd.nome}: R$${aposta.toFixed(2)}\n`;}resultadoSurebet+=`Lucro garantido: R$${lucroSurebetValor.toFixed(2)}`;document.getElementById('surebet').innerText=resultadoSurebet;document.getElementById('porcentagemSurebet').innerText=lucroSurebetPercent>0?`(${lucroSurebetPercent.toFixed(2)}%)`:'(Sem Surebet)';function skewed(banca,odds,favorecido){const outrasOdds=odds.filter((_,i)=>i!==favorecido);const apostasOutras=outrasOdds.map(o=>banca/o.valor);const totalOutras=apostasOutras.reduce((acc,val)=>acc+val,0);const apostaFav=banca-totalOutras;const lucro=apostaFav*odds[favorecido].valor-banca;return{apostas:odds.map((_,i)=>i===favorecido?apostaFav:apostasOutras.shift()),lucro,lucroPercent:(lucro/banca)*100,};}odds.forEach((odd,i)=>{const skew=skewed(banca,odds,i);const txt=odds.map((o,j)=>`${o.nome}: R$${skew.apostas[j].toFixed(2)}`).join('\n')+`\nLucro se ${odd.nome} vencer: R$${skew.lucro.toFixed(2)}`;document.getElementById(`skewed${odd.nome}`).innerText=txt;document.getElementById(`porcentagem${odd.nome}`).innerText=`(${skew.lucroPercent.toFixed(2)}%)`;});['Casa','Empate','Visitante'].forEach(nome=>{if(!odds.find(o=>o.nome===nome)){document.getElementById(`skewed${nome}`).innerText='';document.getElementById(`porcentagem${nome}`).innerText='';}});if(odds.length===3){const [c,e,v]=[casaOdd,empateOdd,visitanteOdd];const apostaCasaZerada=banca/c;const restanteCE=banca-apostaCasaZerada;const somaInvCE=(1/e)+(1/v);const apostaEmpateCC=(restanteCE*(1/e))/somaInvCE;const apostaVisitanteCC=restanteCE-apostaEmpateCC;const retornoEmpateCC=apostaEmpateCC*e;const retornoVisitanteCC=apostaVisitanteCC*v;const lucroContraCasa=Math.min(retornoEmpateCC,retornoVisitanteCC)-banca;document.getElementById('contraCasa').innerText=`Casa (zerada): R$${apostaCasaZerada.toFixed(2)}\n`+`Empate: R$${apostaEmpateCC.toFixed(2)}\n`+`Visitante: R$${apostaVisitanteCC.toFixed(2)}\n`+`Lucro mínimo se Casa perder: R$${lucroContraCasa.toFixed(2)}`;document.getElementById('porcentagemContraCasa').innerText=`(${(lucroContraCasa/banca*100).toFixed(2)}%)`;const apostaEmpateZerada=banca/e;const restanteCV=banca-apostaEmpateZerada;const somaInvCV=(1/c)+(1/v);const apostaCasaCE=(restanteCV*(1/c))/somaInvCV;const apostaVisitanteCE=restanteCV-apostaCasaCE;const retornoCasaCE=apostaCasaCE*c;const retornoVisitanteCE=apostaVisitanteCE*v;const lucroContraEmpate=Math.min(retornoCasaCE,retornoVisitanteCE)-banca;document.getElementById('contraEmpate').innerText=`Empate (zerado): R$${apostaEmpateZerada.toFixed(2)}\n`+`Casa: R$${apostaCasaCE.toFixed(2)}\n`+`Visitante: R$${apostaVisitanteCE.toFixed(2)}\n`+`Lucro mínimo se Empate perder: R$${lucroContraEmpate.toFixed(2)}`;document.getElementById('porcentagemContraEmpate').innerText=`(${(lucroContraEmpate/banca*100).toFixed(2)}%)`;const apostaVisitanteZerada=banca/v;const restanteCE2=banca-apostaVisitanteZerada;const somaInvCE2=(1/c)+(1/e);const apostaCasaCV=(restanteCE2*(1/c))/somaInvCE2;const apostaEmpateCV=restanteCE2-apostaCasaCV;const retornoCasaCV=apostaCasaCV*c;const retornoEmpateCV=apostaEmpateCV*e;const lucroContraVisitante=Math.min(retornoCasaCV,retornoEmpateCV)-banca;document.getElementById('contraVisitante').innerText=`Visitante (zerada): R$${apostaVisitanteZerada.toFixed(2)}\n`+`Casa: R$${apostaCasaCV.toFixed(2)}\n`+`Empate: R$${apostaEmpateCV.toFixed(2)}\n`+`Lucro mínimo se Visitante perder: R$${lucroContraVisitante.toFixed(2)}`;document.getElementById('porcentagemContraVisitante').innerText=`(${(lucroContraVisitante/banca*100).toFixed(2)}%)`;}else{['contraCasa','contraEmpate','contraVisitante','porcentagemContraCasa','porcentagemContraEmpate','porcentagemContraVisitante'].forEach(id=>document.getElementById(id).innerText='');}}

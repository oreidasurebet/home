document.getElementById('btnCalcular').addEventListener('click',calcular);function calcular(){const b=parseFloat(document.getElementById('banca').value),c=parseFloat(document.getElementById('casaOdd').value),e=parseFloat(document.getElementById('empateOdd').value),v=parseFloat(document.getElementById('visitanteOdd').value),o=[];!isNaN(c)&&c>0&&o.push({nome:'Casa',valor:c}),!isNaN(e)&&e>0&&o.push({nome:'Empate',valor:e}),!isNaN(v)&&v>0&&o.push({nome:'Visitante',valor:v});if(isNaN(b)||b<=0||o.length<2)return alert('Informe a banca e pelo menos duas odds válidas maiores que zero.'),void 0;const s=o.reduce((a,d)=>a+1/d.valor,0),l=100*(1-s),r=b*l/100;let t='';for(let a of o){const d=b/(a.valor*s);t+=`${a.nome}: R$${d.toFixed(2)}\n`}t+=`Lucro garantido: R$${r.toFixed(2)}`,document.getElementById('surebet').innerText=t,document.getElementById('porcentagemSurebet').innerText=l>0?`(${l.toFixed(2)}%)`:'(Sem Surebet)';function n(a,d,i){const u=d.filter((_,f)=>f!==i),p=u.map(h=>a/h.valor),m=p.reduce((h,g)=>h+g,0),y=a-m,P=y*d[i].valor-a;return{apostas:d.map((h,g)=>g===i?y:p.shift()),lucro:P,lucroPercent:P/a*100}}o.forEach((a,d)=>{const i=n(b,o,d),u=o.map((h,g)=>`${h.nome}: R$${i.apostas[g].toFixed(2)}`).join('\n')+`\nLucro se ${a.nome} vencer: R$${i.lucro.toFixed(2)}`;document.getElementById(`skewed${a.nome}`).innerText=u,document.getElementById(`porcentagem${a.nome}`).innerText=`(${i.lucroPercent.toFixed(2)}%)`}),['Casa','Empate','Visitante'].forEach(a=>{o.find(h=>h.nome===a)||(document.getElementById(`skewed${a}`).innerText='',document.getElementById(`porcentagem${a}`).innerText='')});if(3===o.length){const[a,d,i]=[c,e,v],u=b/a,p=b-u,m=1/d+1/i,y=p*(1/d)/m,P=p-y,g=y*d,v=P*i,E=Math.min(g,v)-b;document.getElementById('contraCasa').innerText=`Casa (zerada): R$${u.toFixed(2)}\nEmpate: R$${y.toFixed(2)}\nVisitante: R$${P.toFixed(2)}\nLucro mínimo se Casa perder: R$${E.toFixed(2)}`,document.getElementById('porcentagemContraCasa').innerText=`(${(E/b*100).toFixed(2)}%)`;const C=b/d,x=b-C,T=1/a+1/i,k=x*(1/a)/T,B=x-k,_=k*a,S=B*i,M=Math.min(_,S)-b;document.getElementById('contraEmpate').innerText=`Empate (zerado): R$${C.toFixed(2)}\nCasa: R$${k.toFixed(2)}\nVisitante: R$${B.toFixed(2)}\nLucro mínimo se Empate perder: R$${M.toFixed(2)}`,document.getElementById('porcentagemContraEmpate').innerText=`(${(M/b*100).toFixed(2)}%)`;const N=b/i,O=b-N,q=1/a+1/d,z=O*(1/a)/q,A=O-z,L=z*a,D=A*d,Z=Math.min(L,D)-b;document.getElementById('contraVisitante').innerText=`Visitante (zerado): R$${N.toFixed(2)}\nCasa: R$${z.toFixed(2)}\nEmpate: R$${A.toFixed(2)}\nLucro mínimo se Visitante perder: R$${Z.toFixed(2)}`,document.getElementById('porcentagemContraVisitante').innerText=`(${(Z/b*100).toFixed(2)}%)`}else['contraCasa','contraEmpate','contraVisitante','porcentagemContraCasa','porcentagemContraEmpate','porcentagemContraVisitante'].forEach(a=>document.getElementById(a).innerText='')}
